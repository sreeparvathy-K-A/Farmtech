{% extends 'adminbase.html'%}
{% load static %}

{% block content %}
<!-- contact -->
<div class="contact">
    <div class="container">
        <h3 class="w3l_head w3l_head1">Add Loan</h3>
        <p class="w3ls_head_para w3ls_head_para1"></p>
        <div class="w3_contact_grids" style="margin-left: 200px;">
            <form action="#" method="post">
                {% csrf_token %}

                <table class="table">
                    <tr>
                        <td>Type</td>
                        <td><input type="text" required name="t1" id=""></td>
                    </tr>

                    <tr>
                        <td>Duration</td>
                        <td><input type="text" required name="t2" id=""></td>
                    </tr>
                    <tr>
                        <td>Description</td>
                        <td><input type="text" required name="t3" id=""></td>
                    </tr>

                    <tr>
                        <td>Amount</td>
                        <td><input type="number" name="t4" required id=""></td>
                    </tr>

                    <tr>
                        <td colspan="2"><input type="submit" value="Submit"></td>
                    </tr>
                    <tr>
                        <td>
                            <h3>{{msg}}</h3>
                        </td>
                    </tr>
                </table>

                <table class="table table-dark" style="margin-left:-10%;">
                    <tr style="background-color:Green;font:bolder;">
                        <td>Type</td>
                        <td>Duration</td>
                        <td>Description</td>
                        <td>Amount</td>
                        <td>Delete</td>
                        <td>Upadte</td>
                    </tr>
                    {% for d in data %}
                    <tr>
                        <td>{{d.type}}</td>
                        <td>{{d.duration}}</td>
                        <td>{{d.description}}</td>
                        <td>{{d.amount}}</td>
                        <td><a href="/deleteloan?id={{d.id}}" class="btn btn-danger"
                            style="margin-top: 7%; margin-left: 5%;">Delete</a></td>
                        <td><a href="/updateloan?id={{d.id}}" class="btn btn-success"
                                style="margin-top: 7%; margin-left: 5%;">Update</a></td>
                    </tr>
                    {% endfor %}
                </table>
            </form>
        </div>
    </div>
</div>
<script src="js/classie.js"></script>
<script>
    (function () {
        // trim polyfill : https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/Trim
        if (!String.prototype.trim) {
            (function () {
                // Make sure we trim BOM and NBSP
                var rtrim = /^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;
                String.prototype.trim = function () {
                    return this.replace(rtrim, '');
                };
            })();
        }

        [].slice.call(document.querySelectorAll('input.input__field')).forEach(function (inputEl) {
            // in case the input is already filled..
            if (inputEl.value.trim() !== '') {
                classie.add(inputEl.parentNode, 'input--filled');
            }

            // events:
            inputEl.addEventListener('focus', onInputFocus);
            inputEl.addEventListener('blur', onInputBlur);
        });

        function onInputFocus(ev) {
            classie.add(ev.target.parentNode, 'input--filled');
        }

        function onInputBlur(ev) {
            if (ev.target.value.trim() === '') {
                classie.remove(ev.target.parentNode, 'input--filled');
            }
        }
    })();
</script>
{% endblock %}